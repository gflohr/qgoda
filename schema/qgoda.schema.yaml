$schema: http://json-schema.org/draft-07/schema#
$id: http://www.qgoda.net/qgoda.schema.json
title: Configuration
description: A Qgoda Configuration
type: object
properties:
    case-sensitive:
        description: "Should a case-sensitive file system be assumed (default: false)"
        type: boolean
    compare-output:
        description: "Should existing output files be read and compared to the new version to avoid updating timestamps (default: true)"
        type: boolean
    defaults:
        description: Default values, see https://www.qgoda.net/en/defaults
        type: array
        items:
            description: "A list of objects with properties 'files' and 'values', default: empty"
            type: object
            required: ["files", "values"]
            additionalProperties: false
            properties:
                files:
                    description: "Either one single file name pattern or a list of file name patterns.  Files that match will receive the values specified."
                    type: [array, string]
                    items:
                        type: string
                values:
                    description: "Values that should be set for matching files."
                    type: object
    exclude:
        description: "List of additional file name patterns that should be ignored for building the site (default: empty)"
        type: array
        items:
            type: string
    exclude-watch:
        description: "List of additional file name patterns that should be ignored when changed in watch mode (default: empty)"
        type: array
        items:
            type: string
    front-matter-placeholder:
        description: "An object of valid chain names or '*' that give the frontmatter placeholder string for each configured processor chain."
        type: object
    generator:
        description: "Value for the generator meta tag in generated pages, defaults to 'Qgoda vX.X.X (http://www.qgoda.net)'"
        type: string
    helpers:
        description: "Key-value pairs of command identifiers and the command to run in parallel, when running in watch mode. Default: empty."
        type: object
        patternProperties:
            ".+":
                type: [string, array]
                items:
                    type: string
        additionalProperties: false
    index:
        description: "Basename of a file that is considered to be the index document of a directory, defaults to 'index'."
        type: string
    latency:
        descriptions: "Number of seconds to wait until a rebuild is triggered after a file system change in watch mode, defaults to 0.5 s."
        # FIXME! Change that to number or better fix yaml2json.  Then add minimum: 0 to avoid negative numbers.
        type: string 
    linguas:
        description: "List of language identifiers complying to RFC4647 section 2.1 but without any asterisk (*) characters."
        type: array
        items:
            type: string
            pattern: "[a-zA-Z]{1,8}(-[a-zA-z0-9]{8})?"
    no-scm:
        description: "List of additional file name patterns that should be processed in scm mode, even when not under version control (default: empty)"
        type: array
        items:
            type: string
    paths:
        description: "Configurable paths."
        type: object
        properties:
            plugins:
                description: "Directory for plug-ins, default '_plugins'."
                type: string
            po: 
                description: "Directory for po files and other i18n related files, default '_po'."
                type: string
            site: 
                description: "Directory where to store rendered files, defaults to absolute path of '_site'."
                type: string
            timestamp:
                description: "Name of the timestamp file containing the seconds since the epoch since the last write of the site, defults to '_timestamp'."
                type: string
        views: "Directory where view templates are searched, defaults to '_views'."
